@if (isLoading) {
<app-cart-loader></app-cart-loader>
} @else {

<section class="w-full max-w-7xl mx-auto mb-14 px-4">
  <div class="relative group rounded-2xl overflow-hidden shadow-xl">
    <owl-carousel-o [options]="mainSliderOptions" #owlCar>
      @for (slide of sliderImages; track $index) {
      <ng-template carouselSlide>
        <img
          [src]="slide"
          alt="slide"
          loading="lazy"
          class="w-full h-[250px] sm:h-[350px] md:h-[450px] lg:h-[500px] object-cover rounded-2xl shadow-md transform transition-transform duration-700 ease-out group-hover:scale-105"
        />
      </ng-template>
      }
    </owl-carousel-o>

    <button
      class="absolute top-1/2 left-3 -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white w-10 h-10 flex items-center justify-center rounded-full opacity-0 group-hover:opacity-100 transition duration-500 ease-in-out"
      (click)="owlCar.to('prev')"
    >
      <i class="fa-solid fa-chevron-left"></i>
    </button>

    <button
      class="absolute top-1/2 right-3 -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white w-10 h-10 flex items-center justify-center rounded-full opacity-0 group-hover:opacity-100 transition duration-500 ease-in-out"
      (click)="owlCar.to('next')"
    >
      <i class="fa-solid fa-chevron-right"></i>
    </button>
  </div>
</section>

<section class="w-full max-w-7xl mx-auto mb-14 px-4">
  <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-8 text-center">
    All <span class="text-main">Categories</span>
  </h2>
  <owl-carousel-o [options]="customOptions">
    @for (category of categories; track category._id) {
    <ng-template carouselSlide [id]="category._id">
      <div
        class="flex flex-col items-center text-center group cursor-pointer p-3 rounded-xl transition-all duration-300 hover:bg-gray-50 hover:shadow-md"
      >
        <img
          class="h-24 sm:h-28 md:h-32 w-24 sm:w-28 md:w-32 object-cover object-top rounded-full shadow-md transform transition duration-500 ease-out group-hover:scale-110"
          [src]="category.image"
          [alt]="category.name"
          [title]="category.name"
        />
        <p
          class="mt-3 text-sm sm:text-base font-semibold text-gray-700 transition-colors duration-300 group-hover:text-main"
        >
          {{ category.name }}
        </p>
      </div>
    </ng-template>
    }
  </owl-carousel-o>
</section>

<section class="w-full max-w-7xl mx-auto px-4">
  <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-8 text-center">
    Our <span class="text-main">Products</span>
  </h2>

  <div class="w-full sm:w-3/4 lg:w-2/4 mx-auto mb-8 relative">
    <input
      #input
      type="text"
      placeholder="Search for products..."
      [(ngModel)]="inputTerm"
      class="w-full px-4 py-2 pr-10 rounded-xl border border-gray-300 shadow-sm focus:ring-2 focus:ring-main focus:border-main outline-none transition duration-300 text-sm sm:text-base"
    />
    <span
      class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer hover:text-main transition duration-300"
      (click)="input.focus()"
    >
      <i class="fa fa-search"></i>
    </span>
  </div>

  <div
    class="grid gap-5 sm:gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"
  >
    @for (product of products | search:inputTerm; track $index) {
    <app-product-card [product]="product"></app-product-card> }
  </div>

  <div class="flex justify-center mt-10 mb-14">
    <button
      (click)="goToProductsPage()"
      class="px-6 py-2.5 rounded-full cursor-pointer bg-gradient-to-r from-main to-green-600 text-white font-medium flex items-center justify-center gap-2 shadow-md hover:shadow-lg hover:scale-105 active:scale-95 transition-all duration-300 ease-out"
    >
      <i class="fa fa-box-open text-sm"></i>
      <span class="text-sm sm:text-base">View All Products</span>
    </button>
  </div>
</section>
}
